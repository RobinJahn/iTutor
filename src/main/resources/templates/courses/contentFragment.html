<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout}" xmlns:layout="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/4.1.0/css/bootstrap.min.css}" />
    <title>Content Fragments</title>
</head>
<body>
<!-- Content Fragment -->
<div th:fragment="contentFragment(content)">
    <div class="card my-3">
        <div class="card-body">
            <!-- heading for content -->
            <h3 class="card-title" th:text="${content.title}">Content Title</h3>

            <div class="card mb-3" sec:authorize="hasAuthority('EXPERT')">
                <div class="card-body">
                    <!-- Form fÃ¼r den Datei-Upload -->
                    <form th:action="@{/gcp/upload}" method="post" enctype="multipart/form-data">
                        <div class="form-group">
                            <label for="file" th:text="#{upload.chooseFile}">Choose a file:</label>
                            <input type="file" class="form-control-file" name="file" id="file" accept=".txt, .pdf, .doc, .docx">
                        </div>

                        <div class="form-group">
                            <label for="title" th:text="#{upload.title}">Title:</label>
                            <input type="text" class="form-control" name="title" id="title">
                        </div>

                        <div class="form-group">
                            <label for="contentType" th:text="#{upload.contentType}">Content Type:</label>
                            <select class="form-control" name="contentType" id="contentType">
                                <option value="text" th:text="#{upload.contentType.text}">Text</option>
                                <option value="video" th:text="#{upload.contentType.video}">Video</option>
                                <option value="audio" th:text="#{upload.contentType.audio}">Audio</option>
                                <option value="image" th:text="#{upload.contentType.image}">Image</option>
                                <option value="pdf" th:text="#{upload.contentType.pdf}">PDF</option>
                            </select>
                        </div>

                        <button type="submit" class="btn btn-primary" th:text="#{upload.button}">Upload</button>
                    </form>
                </div>
            </div>

            <div th:switch="${content.contentType}">
                <!-- Case for text content -->
                <div th:case="${T(com.example.itutor.domain.Content$ContentType).TEXT}">
                    <p class="card-text" th:text="${content.contentData}"></p>
                </div>
                <!-- Case for PDF content -->
                <div th:case="${T(com.example.itutor.domain.Content$ContentType).PDF}">
                    <a th:href="@{/pdfs/{contentData}(contentData=${content.contentData})}" class="btn btn-primary" th:text="${content.title}">PDF Link</a>
                </div>
                <!-- Case for video content -->
                <div th:case="${T(com.example.itutor.domain.Content$ContentType).VIDEO}">
                    <!-- Video content rendering logic here -->
                </div>
                <!-- Case for audio content -->
                <div th:case="${T(com.example.itutor.domain.Content$ContentType).AUDIO}">
                    <!-- Audio content rendering logic here -->
                </div>
                <!-- Case for image content -->
                <div th:case="${T(com.example.itutor.domain.Content$ContentType).IMAGE}">
                    <!-- Image content rendering logic here -->
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>